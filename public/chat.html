<!DOCTYPE html>
<html lang="en" class="font-lato">
  <head>
    <meta charset="UTF-8" />
    <title>Chat App</title>
    <link rel="stylesheet" href="./css/style.css" />
  </head>
  <body>
    <div class="flex w-screen h-screen">
      <div
        id="sidebar"
        class="flex-auto w-1/6 lg:w-1/12 border-r-2 border-gray-300 bg-blue-500"
      ></div>
      <div class="h-full w-5/6 flex-auto flex flex-col text-blue-800">
        <div id="messages" class="font-lato text-lg overflow-y-scroll h-full"></div>
        <div
          id="message-form2 "
          class="relative bottom-0 flex justify-evenly border-t border-gray-300"
        >
          <form id="message-form" class="flex w-5/6">
            <textarea
              placeholder="message"
              class="placeholder resize-none flex-grow-1 p-5 focus:outline-none w-5/6 overflow"
              type="text"
              autocomplete="off"
              required
            ></textarea>
            <button
              class="w-1/6 justify-center flex-grow-0 inline-flex items-center px-4 border-l-2 border-gray-300 text-sm leading-5 font-medium text-gray-100 bg-blue-500 hover:bg-blue-300 focus:outline-none focus:shadow-outline-blue focus:border-blue-300 active:bg-gray-50 transition duration-150 ease-in-out"
            >
              send
            </button>
          </form>
          <button
            class="w-1/6 flex-grow-0 inline-flex justify-center items-center px-4 py-2 border-l-2 border-gray-300 text-sm leading-5 font-medium text-gray-100 bg-blue-500 hover:bg-blue-300 focus:outline-none focus:shadow-outline-blue focus:border-blue-300 active:bg-gray-50 transition duration-150 ease-in-out"
            id="location-button"
          >
            send location
          </button>
        </div>
      </div>
    </div>

    <script id="message-template" type="text/html">
      <div class="px-6    break-words shadow even:bg-gray-100  w-full">
          <p class="mb-2  flex justify-between">
              <span class="capitalize font-bold"> {{username}} </span>
              <span class=" text-gray-500">{{createdAt}}</span>
          </p>
          <p class=" text-blue-800  max-w-full">
              {{#message}}
              {{.}}<br>
              {{/message}}
          </p>
      </div>
    </script>

    <script id="location-message-template" type="text/html">
      <div class="px-6 py-2 break-words shadow even:bg-gray-100  w-full">
          <p class="mb-4 flex justify-between">
              <span class="capitalize font-bold">{{username}}</span>
              <span class="text-gray-500">{{createdAt}}</span>
          </p>
          <p class="text-blue-800  max-w-full underline">
              <a href="{{url}}" target="_blank">My current location</a>
          </p>
      </div>
    </script>

    <script id="sidebar-template" type="text/html">
      <h2 class="text-center mt-2  mb-4 text-gray-100 font-bold underline   ">{{room}}</h2>
      <ul class="flex flex-col items-start pl-3  text-gray-100   font-bold list-inside ">
          {{#users}}
          <li class="capitalize mb-2">{{username}}</li>
          {{/users}}
      </ul>
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/mustache.js/3.1.0/mustache.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qs/6.9.4/qs.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script src="js/chat.js"></script>
  </body>
</html>
